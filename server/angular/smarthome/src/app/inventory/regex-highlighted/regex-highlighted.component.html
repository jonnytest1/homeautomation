@if (!isHighlighted) {
  {{displayText}}
} @else {
  @for (part of parts; track part) {
    <span
    [ngClass]="{highlighted:part.highlighted}">{{part.str}}</span>
  }
}

<ng-template #highlighted>
  @for (part of parts; track part) {
    <span
    [ngClass]="{highlighted:part.highlighted}">{{part.str}}</span>
  }
</ng-template>